<!DOCTYPE html>
<html lang="en" data-theme="light">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Component Library</title>
    <style>
        :root {
            /* Light theme variables */
            --text-color: #333;
            --border-color: #eaeaea;
            --hover-color: #f8f8f8;
            --purple-accent: #C27327;
            --sidebar-width: 280px;
            --bg-color: #f9f9f9;
            --sidebar-bg: white;
            --category-bg: #f1f1f1;
            --active-category-bg: white;
            --button-bg: white;
            --button-bg-hover: #f9f7fe;
            --button-comp-accent: #8638E5;
            --button-comp-accent-hover: #6b22c4;
            --active-item-hover: #f8f8f8;
            --category-border: #e8e8e8;
            --spinner-border: rgba(0, 0, 0, 0.1);
            --shadow-color: rgba(0, 0, 0, 0.02);
            --modal-shadow: rgba(0, 0, 0, 0.1);
            --active-item-bg: rgba(176, 101, 39, 0.1);
            --scrollbar-track: #f1f1f1;
            --scrollbar-thumb: #E0E0E0;
            --scrollbar-thumb-hover: #a8a8a8;
            --content-subtitle: #666;
            --description-color: #555;
        }

        [data-theme="dark"] {
            /* Dark theme variables */
            --text-color: #e4e4e4;
            --border-color: #191b2000;
            --hover-color: #1f1f1f;
            --purple-accent: #e89e4f;
            --bg-color: #1A1A1A;
            --sidebar-bg: #050714;
            --category-bg: #1C1C1C;
            --category-header-bg: #121212;
            --active-category-bg: #121212;
            --button-bg: #090909;
            --button-bg-hover: #000000;
            --button-comp-accent: #9e4fff;
            --button-comp-accent-hover: #a35ef7;
            --active-item-hover: #30303035;
            --category-border: #191b2000;
            --spinner-border: rgba(255, 255, 255, 0.1);
            --shadow-color: rgba(0, 0, 0, 0.2);
            --modal-shadow: rgba(0, 0, 0, 0.3);
            --active-item-bg: rgba(232, 158, 79, 0.08);
            --active-item-bg-hover: var(--active-item-bg);
            --scrollbar-track: #1C1C1C;
            --scrollbar-thumb: #252525;
            --scrollbar-thumb-hover: #666;
            --content-subtitle: #aaa;
            --description-color: #bbb;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen,
                Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
        }

        body {
            display: flex;
            min-height: 100vh;
            overflow-x: hidden;
            background-color: var(--bg-color);
            color: var(--text-color);
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        .main-container {
            display: flex;
            width: 100%;
            max-width: 2200px;
        }

        .sidebar {
            width: var(--sidebar-width);
            height: 100vh;
            overflow-y: auto;
            background-color: var(--sidebar-bg);
            border-right: 1px solid var(--border-color);
            transition: all 0.3s ease;
            position: fixed;
            left: 0;
            top: 0;
            z-index: 1000;
            box-shadow: 0 0 10px var(--shadow-color);
        }

        .sidebar::-webkit-scrollbar {
            width: 8px;
        }

        .sidebar::-webkit-scrollbar-track {
            background: var(--scrollbar-track);
        }

        .sidebar::-webkit-scrollbar-thumb {
            background: var(--scrollbar-thumb);
            border-radius: 6px;
        }

        .sidebar::-webkit-scrollbar-thumb:hover {
            background: var(--scrollbar-thumb-hover);
        }

        .category {
            border-bottom: 1px solid var(--border-color);
            background-color: var(--category-bg);
        }

        .category.active {
            background-color: var(--active-category-bg);
        }

        .category-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 15px 20px;
            cursor: pointer;
            font-weight: 600;
            font-size: 14px;
            color: var(--text-color);
            transition: font-size 0.3s ease, color 0.3s ease;
        }

        .category.active .category-header {
            background-color: var(--category-header-bg);
            font-size: 16px;
            font-weight: 700;
            color: var(--purple-accent);
        }

        .category-header:hover {
            background-color: var(--hover-color);
        }

        .category-items {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }

        .category.active .category-items {
            max-height: 2000px;
        }

        .category-item {
            padding: 10px 20px 10px 20px;
            font-size: 14px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            cursor: pointer;
            text-decoration: none;
            color: var(--text-color);
            border-bottom: 1px solid var(--category-border);
            transition: color 0.3s ease, background-color 0.3s ease;
        }

        .category.active .category-item {
            padding-left: 30px;
        }

        .category-item:hover {
            background-color: var(--hover-color);
        }

        .category.active .category-item:hover {
            background-color: var(--active-item-hover);
        }

        .category.active .category-item.active:hover {
            background-color: var(--active-item-bg-hover);
        }

        .category-item-indicator {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background-color: var(--purple-accent);
        }

        .category-item.active {
            background-color: var(--active-item-bg);
            font-weight: 600;
            color: var(--purple-accent);
        }

        .content {
            flex: 1;
            padding: 40px;
            margin-left: var(--sidebar-width);
            transition: all 0.3s ease;
        }

        main {
            flex: 1;
            padding: 1rem;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .pdf-container {
            width: 100%;
            max-width: 800px;
            height: 600px;
            border: 1px solid var(--border-color);
            margin: 1rem 0;
        }

        /* Theme Toggle Switch */
        .theme-switch-container {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1010;
            display: flex;
            align-items: center;
        }

        .theme-switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 30px;
        }

        .theme-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .theme-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 34px;
        }

        .theme-slider:before {
            position: absolute;
            content: "";
            height: 22px;
            width: 22px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }

        input:checked+.theme-slider {
            background-color: var(--purple-accent);
        }

        input:focus+.theme-slider {
            box-shadow: 0 0 1px var(--purple-accent);
        }

        input:checked+.theme-slider:before {
            transform: translateX(30px);
        }

        .theme-icon {
            margin: 0 8px;
            font-size: 18px;
        }

        /* For mobile devices */
        @media screen and (max-width: 768px) {
            .sidebar {
                left: -280px;
                box-shadow: none;
            }

            .sidebar.active {
                left: 0;
                box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);
            }

            .content {
                margin-left: 0;
                padding: 20px;
            }

            .sidebar-toggle {
                display: block;
                position: fixed;
                top: 15px;
                left: 15px;
                z-index: 1001;
                background: var(--sidebar-bg);
                border: none;
                width: 40px;
                height: 40px;
                border-radius: 50%;
                box-shadow: 0 0 10px var(--shadow-color);
                cursor: pointer;
                display: flex;
                align-items: center;
                justify-content: center;
                color: var(--text-color);
                transition: background-color 0.3s ease, color 0.3s ease;
            }

            body.sidebar-open::after {
                content: "";
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0, 0, 0, 0.3);
                z-index: 999;
            }

            .theme-switch-container {
                top: 15px;
                right: 15px;
            }
        }

        /* Loading indicator */
        .loading {
            display: none;
            text-align: center;
            padding: 40px;
        }

        .loading.active {
            display: block;
        }

        .spinner {
            width: 40px;
            height: 40px;
            margin: 0 auto;
            border: 4px solid var(--spinner-border);
            border-radius: 50%;
            border-top-color: var(--purple-accent);
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        /* These styles are needed in each content page file */
        .content-header {
            margin-bottom: 20px;
        }

        .content-title {
            font-size: 2rem;
            font-weight: 500;
            margin-bottom: 10px;
            color: var(--text-color);
        }

        .content-subtitle {
            font-size: 1rem;
            color: var(--content-subtitle);
            margin-bottom: 30px;
        }

        .video-container {
            position: relative;
            width: 100%;
            max-width: 900px;
            margin-bottom: 40px;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 15px var(--modal-shadow);
        }

        .video-ratio-container {
            position: relative;
            padding-bottom: 56.25%;
            /* 16:9 Aspect Ratio */
            height: 0;
            overflow: hidden;
        }

        .video-ratio-container video {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .component-description {
            max-width: 900px;
            line-height: 1.6;
            color: var(--description-color);
            margin-bottom: 40px;
        }

        .section-title {
            font-size: 1.5rem;
            font-weight: 500;
            margin-bottom: 20px;
            color: var(--text-color);
        }

        /* Full-width image */
        .full-width-image {
            width: 100%;
            max-width: 900px;
            height: auto;
            border-radius: 8px;
            margin-bottom: 40px;
            box-shadow: 0 4px 15px var(--modal-shadow);
        }

        /* Image Grids */
        .image-grid {
            margin-bottom: 40px;
        }

        /* 2-column grid */
        .grid-2-col {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin-bottom: 40px;
        }

        /* 3-column grid */
        .grid-3-col {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-bottom: 40px;
        }

        /* 4-column grid */
        .grid-4-col {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            margin-bottom: 40px;
        }

        .grid-item {
            overflow: hidden;
            border-radius: 8px;
            max-width: 900px;
            box-shadow: 0 2px 10px var(--modal-shadow);
            transition: transform 0.3s ease;
        }

        .grid-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
            transition: transform 0.3s ease;
        }

        .grid-item .video-container {
            width: 100%;
            height: 100%;
            max-width: 100%;
            object-fit: cover;
            display: block;
            transition: transform 0.3s ease;
        }

        .grid-item .video-ratio-container {
            position: unset;
        }

        /* Video play/pause indicator */
        .video-status-indicator {
            position: absolute;
            top: 10px;
            right: 10px;
            background-color: rgba(0, 0, 0, 0.5);
            color: white;
            padding: 5px 10px;
            border-radius: 4px;
            font-size: 12px;
            z-index: 10;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .video-container:hover .video-status-indicator {
            opacity: 1;
        }

        .two-tone-button {
            display: inline-flex;
            border-radius: 50px;
            overflow: hidden;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            text-decoration: none;
            font-family: Arial, sans-serif;
            transition: background-color 0.3s ease, color 0.3s ease;
        }
        .two-tone-button:hover .button-left {
            background-color: var(--button-bg-hover);
        }
        .two-tone-button:hover .button-right {
            background-color: var(--button-comp-accent-hover);
        }

        .button-left {
            background-color: var(--button-bg);
            color: var(--button-comp-accent);
            padding: 12px 20px;
            display: flex;
            align-items: center;
            font-weight: 500;
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        .button-right {
            background-color: var(--button-comp-accent);
            color: white;
            padding: 12px 20px;
            font-weight: 500;
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        .diamond-icon {
            margin-left: 8px;
            font-size: 16px;
            display: flex;
            align-items: center;
        }

        .diamond-group {
            display: grid;
            grid-template-columns: 1fr 1fr;
            grid-gap: 2px;
            transform: rotate(45deg);
        }

        .diamond-item {
            width: 5px;
            height: 5px;
            background-color: var(--button-comp-accent);
        }

        .two-tone-button {
            float: right;
        }

        /* For mobile devices */
        @media screen and (max-width: 768px) {
            .grid-2-col {
                grid-template-columns: 1fr;
            }

            .grid-3-col {
                grid-template-columns: repeat(2, 1fr);
            }

            .grid-4-col {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        /* For small mobile devices */
        @media screen and (max-width: 480px) {

            .grid-3-col,
            .grid-4-col {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>

<body>
    <div class="main-container">
        <div class="sidebar" id="sidebar">
            <div class="sidebar-menu" id="sidebar-menu">
                <!-- Menu items will be generated by JavaScript -->
            </div>
        </div>

        <button class="sidebar-toggle" id="sidebar-toggle">‚ò∞</button>

        <!-- Theme Toggle Switch -->
        <div class="theme-switch-container">
            <span class="theme-icon">‚òÄÔ∏è</span>
            <label class="theme-switch">
                <input type="checkbox" id="theme-toggle">
                <span class="theme-slider"></span>
            </label>
            <span class="theme-icon">üåô</span>
        </div>

        <div class="content" id="content">
            <!-- Loading indicator -->
            <div id="loading" class="loading">
                <div class="spinner"></div>
                <p>Loading component...</p>
            </div>

            <!-- Content will be loaded here -->
        </div>
    </div>

    <script>
        // Menu structure data
        const menuData = [
            {
                category: "First Steps",
                items: ["UI setup component search"]
            },
            {
                category: "Badges & Tags",
                items: ["Badge"]
            },
            {
                category: "Buttons",
                items: ["Button", "Button Group", "Button close", "Button with icon only", "Social button", "Store badges"]
            },
            {
                category: "Checkboxes",
                items: ["Checkbox", "Checkbox label"]
            },
            {
                category: "Content",
                items: ["Content Frames", "Content Slots", "Content Header", "Content Slot"]
            },
            {
                category: "Dividers",
                items: ["Divider"]
            },
            {
                category: "Drop-Downs",
                items: ["Drop-Down Box", "Drop-Down Menu"]
            },
            {
                category: "Empty States",
                items: ["Empty state", "Empty state graphic"]
            },
            {
                category: "Icons",
                items: ["Icons"]
            },
            {
                category: "Info Cards",
                items: ["Info card"]
            },
            {
                category: "Inbox",
                items: ["Content / Inbox / Classic", "Content / Inbox / Compact", "Mail navigation list item"]
            },
            {
                category: "Lists",
                items: ["Check list item", "Class list item"]
            },
            {
                category: "Logos",
                items: ["GGLOGO", "GG_LOGO_ICON", "GG_LOGO_MARK"]
            },
            {
                category: "Modals",
                items: ["Modal header", "Modal actions"]
            },
            {
                category: "Pagination",
                items: ["Pagination", "Pagination dots"]
            },
            {
                category: "Progress Loaders",
                items: ["Linear loader", "Linear loader (looping)", "Radial loader", "Radial loader (looping)", "Radial loader (looping) 2"]
            },
            {
                category: "Radio Buttons",
                items: ["Radio Button", "Radio Button Group"]
            },
            {
                category: "Toggles",
                items: ["Toggle switch", "Toggle label"]
            },
            {
                category: "Tabs",
                items: ["Horizontal tabs", "Vertical tabs", "Tab button"]
            },
            {
                category: "Accordion",
                items: ["Accordion", "Accordion item"]
            },
            {
                category: "Headers",
                items: ["Card header", "Page header", "Section header"]
            },
            {
                category: "Signup & Login",
                items: ["Login sections", "Signup sections"]
            },
            {
                category: "Miscellaneous",
                items: ["Avatar", "Avatar labeled", "Avatar stack"]
            },

        ];

        // Generate menu
        const sidebarMenu = document.getElementById('sidebar-menu');
        const contentContainer = document.getElementById('content');
        const loadingIndicator = document.getElementById('loading');

        menuData.forEach((menuItem, index) => {
            const categoryElement = document.createElement('div');
            categoryElement.className = 'category';

            // Pre-expand the Buttons category
            if (menuItem.category === "First Steps") {
                categoryElement.classList.add('active');
            }

            categoryElement.innerHTML = `
                <div class="category-header">
                    ${menuItem.category}
                    <span class="toggle-icon">${menuItem.category === "UI setup component search" ? '‚¨§' : '‚óã'}</span>
                </div>
                <div class="category-items">
                    ${menuItem.items.map(item => {
                // Set Button as active by default
                const isActive = item === "UI setup component search" ? "active" : "";
                // Create URL-friendly id from item name
                const itemId = item.toLowerCase().replace(/\s+/g, '-').replace(/\//g, '-');

                return `
                            <a href="#" class="category-item ${isActive}" data-item="${item}" data-page="${itemId}">
                                ${item}
                                <span class="category-item-indicator"></span>
                            </a>
                        `;
            }).join('')}
                </div>
            `;
            sidebarMenu.appendChild(categoryElement);
        });

        // Add this function to your JavaScript
        function scrollToTop() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'  // For smooth scrolling
            });
        }

        // Function to load content
        async function loadContent(pageName) {
            try {
                // Show loading indicator
                loadingIndicator.classList.add('active');

                // Fetch the content file
                const response = await fetch(`pages/${pageName}.html`);

                if (!response.ok) {
                    throw new Error(`Failed to load ${pageName}`);
                }

                const html = await response.text();

                // Hide loading indicator
                loadingIndicator.classList.remove('active');

                // Create the content header
                const contentHeader = `
                    <div class="content-header">
                        <h1 class="content-title">${pageName.replace(/-/g, ' ').replace(/\b\w/g, l => l.toUpperCase())}</h1>
                    </div>
                `;

                // Update content
                contentContainer.innerHTML = contentHeader + html;

                // After content is loaded, initialize video viewport observers
                initializeVideos();
            } catch (error) {
                console.error('Error loading content:', error);
                loadingIndicator.classList.remove('active');
                contentContainer.innerHTML = `
                    <div class="content-header">
                        <h1 class="content-title">${pageName.replace(/-/g, ' ').replace(/\b\w/g, l => l.toUpperCase())}</h1>
                        <p class="content-subtitle">Content not found or still in development</p>
                    </div>
                    <div style="text-align: center; padding: 50px;">
                        <p>We're still working on this component. Check back soon!</p>
                    </div>
                `;
            }
        }

        // Add event listeners to category headers - updated to close other categories and activate first item
        document.querySelectorAll('.category-header').forEach(header => {
            header.addEventListener('click', () => {
                const parent = header.parentElement;
                const toggleIcon = header.querySelector('.toggle-icon');
                const isActive = parent.classList.contains('active');

                // Close all categories first
                document.querySelectorAll('.category').forEach(cat => {
                    cat.classList.remove('active');
                    cat.querySelector('.toggle-icon').textContent = '‚óã';
                });

                // Remove active class from all items
                document.querySelectorAll('.category-item').forEach(i => {
                    i.classList.remove('active');
                });

                // If the clicked category wasn't active, make it active
                if (!isActive) {
                    parent.classList.add('active');
                    toggleIcon.textContent = '‚¨§';

                    // Find and activate the first item in this category
                    const firstItem = parent.querySelector('.category-item');
                    if (firstItem) {
                        firstItem.classList.add('active');

                        // Get page name from the first item
                        const pageName = firstItem.getAttribute('data-page');

                        // Load the content of the first item
                        loadContent(pageName);
                        // Scroll to top
                        scrollToTop();
                    }
                }
            });
        });

        // Add event listeners for sidebar toggle on mobile
        const sidebarToggle = document.getElementById('sidebar-toggle');
        const sidebar = document.getElementById('sidebar');

        sidebarToggle.addEventListener('click', () => {
            sidebar.classList.toggle('active');
            document.body.classList.toggle('sidebar-open');
        });

        // Close sidebar when clicking outside on mobile
        document.addEventListener('click', (e) => {
            if (window.innerWidth <= 768 &&
                !sidebar.contains(e.target) &&
                !sidebarToggle.contains(e.target) &&
                sidebar.classList.contains('active')) {
                sidebar.classList.remove('active');
                document.body.classList.remove('sidebar-open');
            }
        });

        // Handle category item clicks
        document.querySelectorAll('.category-item').forEach(item => {
            item.addEventListener('click', (e) => {
                e.preventDefault();

                // Remove active class from all items
                document.querySelectorAll('.category-item').forEach(i => {
                    i.classList.remove('active');
                });

                // Add active class to clicked item
                item.classList.add('active');

                // Get page name
                const pageName = item.getAttribute('data-page');

                // Load the content
                loadContent(pageName);

                // Scroll to top
                scrollToTop();

                // For mobile: close sidebar after selection
                if (window.innerWidth <= 768) {
                    sidebar.classList.remove('active');
                    document.body.classList.remove('sidebar-open');
                }
            });
        });

        // Function to initialize video viewport observers
        function initializeVideos() {
            const videos = document.querySelectorAll('video');

            if (videos.length === 0) return;

            // For each video, add status indicator and set up IntersectionObserver
            videos.forEach((video, index) => {
                // Add unique ID to each video
                video.id = `video-${index}`;

                // Add status indicator to video container
                const videoContainer = video.closest('.video-container') || video.parentElement;

                // Only add indicator if it doesn't already exist
                if (!videoContainer.querySelector('.video-status-indicator')) {
                    const statusIndicator = document.createElement('div');
                    statusIndicator.className = 'video-status-indicator';
                    statusIndicator.textContent = 'Paused';
                    statusIndicator.id = `indicator-${index}`;
                    videoContainer.style.position = 'relative';
                    videoContainer.appendChild(statusIndicator);
                }

                // Create Intersection Observer to watch each video
                const observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        // Get status indicator for this video
                        const indicator = document.getElementById(`indicator-${index}`);

                        if (entry.isIntersecting) {
                            // Video is in viewport
                            // Pause all other videos first
                            videos.forEach(otherVideo => {
                                if (otherVideo.id !== video.id) {
                                    otherVideo.pause();
                                    // Update other indicators
                                    const otherIndex = otherVideo.id.split('-')[1];
                                    const otherIndicator = document.getElementById(`indicator-${otherIndex}`);
                                    if (otherIndicator) otherIndicator.textContent = 'Paused';
                                }
                            });

                            // Play this video
                            if (video.paused) {
                                const playPromise = video.play();

                                // Handle play promise (to avoid DOMException)
                                if (playPromise !== undefined) {
                                    playPromise.then(() => {
                                        // Video playback started successfully
                                        if (indicator) indicator.textContent = 'Playing';
                                    }).catch(error => {
                                        // Auto-play was prevented (e.g., browser policy)
                                        console.log("Auto-play prevented:", error);
                                        if (indicator) indicator.textContent = 'Click to play';
                                    });
                                }
                            }
                        } else {
                            // Video is out of viewport, pause it
                            video.pause();
                            if (indicator) indicator.textContent = 'Paused';
                        }
                    });
                }, {
                    threshold: 0.5 // At least 50% of the video must be visible
                });

                // Start observing the video
                observer.observe(video);

                // Add click event to toggle play/pause manually
                video.addEventListener('click', () => {
                    const indicator = document.getElementById(`indicator-${index}`);

                    if (video.paused) {
                        // Pause all other videos first
                        videos.forEach(otherVideo => {
                            if (otherVideo.id !== video.id) {
                                otherVideo.pause();
                                // Update other indicators
                                const otherIndex = otherVideo.id.split('-')[1];
                                const otherIndicator = document.getElementById(`indicator-${otherIndex}`);
                                if (otherIndicator) otherIndicator.textContent = 'Paused';
                            }
                        });

                        // Play this video
                        video.play();
                        if (indicator) indicator.textContent = 'Playing';
                    } else {
                        video.pause();
                        if (indicator) indicator.textContent = 'Paused';
                    }
                });

                // Update indicator when video plays/pauses
                video.addEventListener('play', () => {
                    const indicator = document.getElementById(`indicator-${index}`);
                    if (indicator) indicator.textContent = 'Playing';
                });

                video.addEventListener('pause', () => {
                    const indicator = document.getElementById(`indicator-${index}`);
                    if (indicator) indicator.textContent = 'Paused';
                });
            });
        }

        // Load the default content (Button)
        window.addEventListener('DOMContentLoaded', () => {
            loadContent('ui-setup-component-search');

            // Theme Toggle Functionality
            const themeToggle = document.getElementById('theme-toggle');

            // Check for saved theme preference or use system preference
            const savedTheme = localStorage.getItem('theme');
            const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;

            if (savedTheme === 'dark' || (!savedTheme && prefersDark)) {
                document.documentElement.setAttribute('data-theme', 'dark');
                themeToggle.checked = true;
            }

            // Toggle theme when switch is clicked
            themeToggle.addEventListener('change', function () {
                if (this.checked) {
                    document.documentElement.setAttribute('data-theme', 'dark');
                    localStorage.setItem('theme', 'dark');
                } else {
                    document.documentElement.setAttribute('data-theme', 'light');
                    localStorage.setItem('theme', 'light');
                }
            });
        });
    </script>
</body>

</html>